{
  "version": 3,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 24,
    "patch": 0
  },
  "configurePresets": [
    {
      "name": "testing",
      "hidden": true,
      "cacheVariables": {
        "IPPL_ENABLE_TESTS": "ON",
        "IPPL_ENABLE_UNIT_TESTS": "ON"
      }
    },
    {
      "name": "default",
      "displayName": "Default",
      "description": "Default build, release mode with most common options",
      "generator": "Unix Makefiles",
      "cacheVariables": {
        "BUILD_SHARED_LIBS": "ON",
        "CMAKE_BUILD_TYPE": "Release",
        "CMAKE_EXPORT_COMPILE_COMMANDS": "ON",
        "Kokkos_VERSION_DEFAULT": "4.7.01",
        "Heffte_VERSION_DEFAULT": "2.4.0",
        "IPPL_PLATFORMS": "SERIAL",
        "IPPL_ENABLE_FFT": "ON",
        "IPPL_ENABLE_ALPINE": "ON",
        "IPPL_ENABLE_COSMOLOGY": "ON",
        "IPPL_ENABLE_TESTS": "OFF",
        "IPPL_ENABLE_UNIT_TESTS": "OFF",
        "IPPL_USE_STANDARD_FOLDERS": "ON"
      }
    },
    {
      "name": "fetch",
      "displayName": "ForceDownload",
      "description": "Always downloads dependencies",
      "inherits": [
        "default"
      ],
      "cacheVariables": {
        "Kokkos_VERSION": "git.4.7.01",
        "Heffte_VERSION": "git.v2.4.1"
      }
    },
    {
      "name": "release-testing",
      "displayName": "Testing(Release)",
      "description": "Enables building test in release mode",
      "inherits": [
        "testing",
        "default"
      ]
    },
    {
      "name": "debug-testing",
      "displayName": "Testing(Debug)",
      "description": "Enables building test in debug mode",
      "inherits": [
        "testing",
        "default"
      ],
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Debug",
        "IPPL_ENABLE_SANITIZER": "ON",
        "IPPL_PLATFORMS": "SERIAL"
      }
    },
    {
      "name": "alps-gh200",
      "displayName": "Alps-GH200-defaults",
      "description": "Enables building test in debug mode",
      "inherits": [
        "release-testing"
      ],
      "cacheVariables": {
        "MPIEXEC_PREFLAGS": "--gpus-per-task=1;/user-environment/wrapper-mpi.sh",
        "IPPL_PLATFORMS": "SERIAL;CUDA",
        "CMAKE_CUDA_ARCHITECTURES": "90",
        "MPIEXEC_EXECUTABLE": "/usr/bin/srun",
        "Kokkos_VERSION_DEFAULT": "4.7",
        "Heffte_VERSION_DEFAULT": "2.4.1"
      }
    },
    {
      "name": "alps-mi300",
      "displayName": "Alps-mi300-defaults",
      "description": "Enables building test in debug mode",
      "inherits": [
        "release-testing"
      ],
      "cacheVariables": {
        "MPIEXEC_PREFLAGS": "--gpus-per-node=4;/user-environment/wrapper-mpi.sh",
        "IPPL_PLATFORMS": "HIP;SERIAL",
        "CMAKE_HIP_ARCHITECTURES": "gfx942",
        "AMDGPU_TARGETS": "gfx942",
        "GPU_TARGETS": "gfx942",
        "MPIEXEC_EXECUTABLE": "/usr/bin/srun",
        "Kokkos_VERSION_DEFAULT": "git.4.7.01",
        "Heffte_VERSION_DEFAULT": "git.v2.4.1"
      }
    }
  ]
}
